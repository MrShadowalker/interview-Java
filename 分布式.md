# 分布式事务

## 解决方案

- 基于 XA 协议

二阶段提交和三阶段提交，需要数据库层面支持

- 基于事务补偿机制

TCC，基于业务层面实现

- 基于事务消息

MQ

- 本地消息表

基于本地数据库+MQ，维护本地状态（进行中），通过 MQ 调用服务，完成后响应一条消息回调，将状态改为完成。需要配合定时任务扫表、重新发送消息调用服务，需要保证幂等性。

